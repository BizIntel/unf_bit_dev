#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПередЗаписью(Отказ)
		
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если ЭтоНовый() Тогда
		
		Если Статус.Пустая() И НЕ ИсходныйСтатус.Пустая() Тогда
			Статус = ИсходныйСтатус;
		КонецЕсли;
		
		Если ИсходныйСтатус.Пустая() И НЕ Статус.Пустая() Тогда
			ИсходныйСтатус = Статус;
		КонецЕсли;
		
		Если НЕ ЗначениеЗаполнено(ДатаПолучения) Тогда
			ДатаПолучения = ТекущаяДатаСеанса();
		КонецЕсли;
		
		Для Каждого Стр Из ПричиныОтказа Цикл
			Если НЕ ЗначениеЗаполнено(Стр.ИсходнаяПричина) И ЗначениеЗаполнено(Стр.Причина) Тогда
				Стр.ИсходнаяПричина = Стр.Причина;
			ИначеЕсли НЕ ЗначениеЗаполнено(Стр.Причина) И ЗначениеЗаполнено(Стр.ИсходнаяПричина) Тогда
				Стр.Причина = Стр.ИсходнаяПричина;
			КонецЕсли;
		КонецЦикла;
		
	КонецЕсли;
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	СдачаОтчетностиЧерезСервисСпецоператораВызовСервера.ПриЗаписиСобытияОтправкиОтчетности(ЭтотОбъект, Отказ);
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли