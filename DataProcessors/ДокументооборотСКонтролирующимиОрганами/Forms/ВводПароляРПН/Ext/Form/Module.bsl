#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	Портал = Параметры.Портал;
	EMail = Параметры.EMail;
	Пароль = Параметры.Пароль;
	СохранитьПароль = Параметры.СохранитьПароль;
	
	Элементы.СсылкаНаРегистрацию.Заголовок = Портал + "Account/Account/Register";
	
	КонтекстЭДО = ДокументооборотСКОВызовСервера.ПолучитьОбработкуЭДО();
	
	ДопустимоеКоличествоПопытокВводаПароля = 3;
	Элементы.ПредупреждениеОбОшибочномВводеПароля.Заголовок = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(Элементы.ПредупреждениеОбОшибочномВводеПароля.Заголовок, ДопустимоеКоличествоПопытокВводаПароля);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура СсылкаНаРегистрациюНажатие(Элемент)
	
	СтандартнаяОбработка = Ложь;
	ПерейтиПоНавигационнойСсылке(Элементы.СсылкаНаРегистрацию.Заголовок);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	
	Результат = Новый Структура("EMail, Пароль, СохранитьПароль");
	Результат.EMail = EMail;
	Результат.Пароль = Пароль;
	Результат.СохранитьПароль = СохранитьПароль;
	Закрыть(Результат);
	
КонецПроцедуры

#КонецОбласти
