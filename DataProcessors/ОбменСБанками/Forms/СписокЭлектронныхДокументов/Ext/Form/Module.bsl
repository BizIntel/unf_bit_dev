#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	Для Каждого СообщениеОбмена Из Параметры.МассивСообщенийОбмена Цикл
		НоваяСтрока = ТаблицаДанных.Добавить();
		НоваяСтрока.СообщениеОбмена = СообщениеОбмена;
		НоваяСтрока.ПредставлениеЭД = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СообщениеОбмена, "Представление");
	КонецЦикла;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормыТаблицаДанных

&НаКлиенте
Процедура ТаблицаДанныхВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	ВывестиЭДНаПросмотр(ТаблицаДанных[ВыбраннаяСтрока]);
	
КонецПроцедуры


#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Процедура ВывестиЭДНаПросмотр(СтрокаДанных)
	
	ПараметрыФормы = Новый Структура;
	ПараметрыФормы.Вставить("СообщениеОбмена", СтрокаДанных.СообщениеОбмена);
	ПараметрыФормы.Вставить("ТолькоЧтение", Истина);
	ОткрытьФорму("Документ.СообщениеОбменСБанками.Форма.ЭлектронныйДокумент", ПараметрыФормы, ЭтотОбъект);
	
КонецПроцедуры

#КонецОбласти
