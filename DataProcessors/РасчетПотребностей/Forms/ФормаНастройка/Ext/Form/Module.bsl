
////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ДЕЙСТВИЯ КОМАНДНЫХ ПАНЕЛЕЙ ФОРМЫ

&НаКлиенте
// Процедура вызывается при нажатии кнопки "ЗавершитьРедактирование" командной панели формы.
//
Процедура ЗавершитьРедактирование(Команда)
	
	СтруктураРеквизитовФормы = Новый Структура;
	СтруктураРеквизитовФормы.Вставить("КомпоновщикНастроек", КомпоновщикНастроек);
	Закрыть(СтруктураРеквизитовФормы);
	
КонецПроцедуры // ЗавершитьРедактирование()

&НаКлиенте
// Процедура вызывается при нажатии кнопки "Отмена" командной панели формы.
//
Процедура Отмена(Команда)
	
	Закрыть(КодВозвратаДиалога.Отмена);
	
КонецПроцедуры // Отмена()

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

&НаСервере
// Процедура обработчик события ПриСозданииНаСервере.
// Осуществляет первоначальное заполнение реквизитов формы.
//
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ИсточникНастроек = Новый ИсточникДоступныхНастроекКомпоновкиДанных(Параметры.АдресСхемыКомпоновкиДанных);
	
	КомпоновщикНастроек.ЗагрузитьНастройки(Параметры.ОтборКомпоновщикНастроек.Настройки);
	КомпоновщикНастроек.ЗагрузитьПользовательскиеНастройки(Параметры.ОтборКомпоновщикНастроек.ПользовательскиеНастройки);
	КомпоновщикНастроек.ЗагрузитьФиксированныеНастройки(Параметры.ОтборКомпоновщикНастроек.ФиксированныеНастройки);
	
	КомпоновщикНастроек.Инициализировать(ИсточникНастроек);
	
КонецПроцедуры // ПриСозданииНаСервере()
