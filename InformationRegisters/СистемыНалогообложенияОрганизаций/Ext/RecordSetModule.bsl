#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

// Процедура - обработчик события ОбработкаПроверкиЗаполнения объекта.
//
Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Для каждого Запись Из ЭтотОбъект Цикл
		
		Если Запись.СистемаНалогообложения = Перечисления.СистемыНалогообложения.Упрощенная Тогда
			
	        ПроверяемыеРеквизиты.Добавить("СтавкаНДС");
			
		КонецЕсли;	
			
	КонецЦикла;	
	
КонецПроцедуры // ОбработкаПроверкиЗаполнения()

Процедура ПередЗаписью(Отказ, Замещение)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Для каждого Строка Из ЭтотОбъект Цикл
		Строка.ПлательщикУСН = (Строка.СистемаНалогообложения = Перечисления.СистемыНалогообложения.Упрощенная);
	КонецЦикла;
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ, Замещение)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если ЭтотОбъект.Количество() > 0 Тогда
		РегистрыСведений.СистемыНалогообложенияОрганизаций.ОбновитьИспользованиеОСНО();
		РегистрыСведений.СистемыНалогообложенияОрганизаций.ОбновитьИспользованиеРозничнойПродажиАлкоголя();
	КонецЕсли
КонецПроцедуры

#КонецОбласти

#КонецЕсли