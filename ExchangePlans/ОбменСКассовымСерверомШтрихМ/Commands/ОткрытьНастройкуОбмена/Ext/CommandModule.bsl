#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	УзелОбменаШтрих = УзелОбменаШтрих();
	
	Если УзелОбменаШтрих = Неопределено Тогда
		ПоказатьПредупреждение(, НСтр("ru = 'Настройки доступны только администратору сервиса'",
			ОбщегоНазначенияКлиентСервер.КодОсновногоЯзыка()));
	Иначе
		ПараметрыФормы = Новый Структура("Ключ", УзелОбменаШтрих);
		ОткрытьФорму("ПланОбмена.ОбменСКассовымСерверомШтрихМ.ФормаОбъекта", ПараметрыФормы,
			ПараметрыВыполненияКоманды.Источник,
			ПараметрыВыполненияКоманды.Уникальность,
			ПараметрыВыполненияКоманды.Окно,
			ПараметрыВыполненияКоманды.НавигационнаяСсылка);
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Функция УзелОбменаШтрих()
	
	Если ОбщегоНазначенияПовтИсп.РазделениеВключено() И НЕ ОбщегоНазначенияПовтИсп.СеансЗапущенБезРазделителей() Тогда
		Возврат Неопределено;
	Иначе
		Возврат ОбменСКассовымСерверомШтрихМ.УзелОбменаШтрих();
	КонецЕсли;
КонецФункции

#КонецОбласти
