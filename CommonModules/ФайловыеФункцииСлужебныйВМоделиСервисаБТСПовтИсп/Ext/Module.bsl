#Область СлужебныйПрограммныйИнтерфейс

Функция СправочникиФайловИОбъектыХранения() Экспорт
	
	СправочникиФайлов = Новый Соответствие();
	ОбъектыХраненияВИнформационнойБазе = Новый Соответствие();
	
	Если ТехнологияСервисаИнтеграцияСБСП.ПодсистемаСуществует("СтандартныеПодсистемы.РаботаСФайлами") Тогда
		
		Обработчик = "РаботаСФайламиСлужебный";
		ОбщийМодуль = ТехнологияСервисаИнтеграцияСБСП.ОбщийМодуль(Обработчик);
		Если ОбщийМодуль <> Неопределено Тогда
			
			СправочникиФайловОбработчика = ОбщийМодуль.СправочникиФайлов();
			Для Каждого СправочникФайловОбработчика Из СправочникиФайловОбработчика Цикл
				СправочникиФайлов.Вставить(СправочникФайловОбработчика.ПолноеИмя(), Обработчик);
			КонецЦикла;
			
			ОбъектыХраненияОбработчика = ОбщийМодуль.ОбъектыХраненияФайловИнформационнойБазе();
			Для Каждого ОбъектХраненияОбработчика Из ОбъектыХраненияОбработчика Цикл
				ОбъектыХраненияВИнформационнойБазе.Вставить(ОбъектХраненияОбработчика.ПолноеИмя(), Обработчик);
			КонецЦикла;
			
		КонецЕсли;
		
	КонецЕсли;
	
	Если ТехнологияСервисаИнтеграцияСБСП.ПодсистемаСуществует("СтандартныеПодсистемы.ПрисоединенныеФайлы") Тогда
		
		Обработчик = "ПрисоединенныеФайлыСлужебный";
		ОбщийМодуль = ТехнологияСервисаИнтеграцияСБСП.ОбщийМодуль(Обработчик);
		Если ОбщийМодуль <> Неопределено Тогда
			
			СправочникиФайловОбработчика = ОбщийМодуль.СправочникиФайлов();
			Для Каждого СправочникФайловОбработчика Из СправочникиФайловОбработчика Цикл
				СправочникиФайлов.Вставить(СправочникФайловОбработчика.ПолноеИмя(), Обработчик);
			КонецЦикла;
			
			ОбъектыХраненияОбработчика = ОбщийМодуль.ОбъектыХраненияФайловИнформационнойБазе();
			Для Каждого ОбъектХраненияОбработчика Из ОбъектыХраненияОбработчика Цикл
				ОбъектыХраненияВИнформационнойБазе.Вставить(ОбъектХраненияОбработчика.ПолноеИмя(), Обработчик);
			КонецЦикла;
			
		КонецЕсли;
		
	КонецЕсли;
	
	Кэш = Новый Структура("СправочникиФайлов, ОбъектыХранения", СправочникиФайлов, ОбъектыХраненияВИнформационнойБазе);
	
	Возврат Кэш;
	
КонецФункции

#КонецОбласти