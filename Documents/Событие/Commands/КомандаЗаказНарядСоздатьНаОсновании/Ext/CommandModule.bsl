
#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	Если Не ЗначениеЗаполнено(ПараметрКоманды) Тогда
		Возврат;
	КонецЕсли;
	
	СтруктураЗаполнения = Новый Структура();
	ПолучитьПараметрыЗаполнения(СтруктураЗаполнения, ПараметрКоманды);
	
	ОткрытьФорму("Документ.ЗаказПокупателя.ФормаОбъекта", Новый Структура("ЗначенияЗаполнения", СтруктураЗаполнения));
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ПолучитьПараметрыЗаполнения(СтруктураЗаполнения, ПараметрКоманды)
	
	Если ПараметрКоманды.Участники.Количество() > 0 И ТипЗнч(ПараметрКоманды.Участники[0].Контакт) = Тип("СправочникСсылка.Контрагенты") Тогда
		СтруктураЗаполнения.Вставить("Контрагент", ПараметрКоманды.Участники[0].Контакт);
		СтруктураЗаполнения.Вставить("Договор", СтруктураЗаполнения.Контрагент.ДоговорПоУмолчанию);
	КонецЕсли;
	СтруктураЗаполнения.Вставить("ВидОперации", Перечисления.ВидыОперацийЗаказПокупателя.ЗаказНаряд);
	СтруктураЗаполнения.Вставить("Событие", ПараметрКоманды);
	
КонецПроцедуры

#КонецОбласти
