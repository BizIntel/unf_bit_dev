
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	СтруктураЗаполнения = Новый Структура();
	СтруктураЗаполнения.Вставить("Основание", ПараметрКоманды);
	
	Если ПараметрыВыполненияКоманды.Источник.Элементы.Найти("РедактироватьСписком") <> Неопределено Тогда
		
		Если ПараметрыВыполненияКоманды.Источник.Элементы.РедактироватьСписком.Пометка Тогда
			РаботыТекущаяСтрока = ПараметрыВыполненияКоманды.Источник.Элементы.Работы.ТекущиеДанные;
		ИначеЕсли ПараметрыВыполненияКоманды.Источник.Объект.Работы.Количество() > 0 Тогда
			РаботыТекущаяСтрока = ПараметрыВыполненияКоманды.Источник.Объект.Работы[0];
		КонецЕсли;
	
		Если РаботыТекущаяСтрока <> Неопределено Тогда
			
			СтруктураЗаполнения.Вставить("Заказчик", РаботыТекущаяСтрока.Заказчик);
			СтруктураЗаполнения.Вставить("ДатаНачала", РаботыТекущаяСтрока.ДатаНачала);
			СтруктураЗаполнения.Вставить("ДатаОкончания", РаботыТекущаяСтрока.ДатаОкончания);
			
		КонецЕсли;
		
	КонецЕсли;
	
	ОткрытьФорму("Документ.Событие.ФормаОбъекта", Новый Структура("Основание", СтруктураЗаполнения));
	
КонецПроцедуры
